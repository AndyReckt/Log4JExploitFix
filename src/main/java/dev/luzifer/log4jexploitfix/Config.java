package dev.luzifer.log4jexploitfix;

import org.bukkit.configuration.ConfigurationSection;
import org.bukkit.configuration.file.FileConfiguration;

public class Config {

    private static final LogConfig logging = new LogConfig();

    public static LogConfig getLogging() {
        return logging;
    }

    public static void load(Log4JExploitFix plugin) {
        plugin.saveDefaultConfig();
        FileConfiguration config = plugin.getConfig();
        logging.load(config.getConfigurationSection("logging"));
    }

    public static class LogConfig {

        private boolean enabled;
        private boolean logFilter;
        private boolean messageReceive;
        private boolean messageSend;
        private String customPath;

        private LogConfig() {}

        public boolean isEnabled() {
            return enabled;
        }

        public String getCustomPath() {
            return customPath;
        }

        public boolean isLogFilter() {
            return logFilter;
        }

        public boolean isMessageReceive() {
            return messageReceive;
        }

        public boolean isMessageSend() {
            return messageSend;
        }

        private void load(ConfigurationSection config) {
            if (config == null) {
                return;
            }

            this.enabled = config.getBoolean("enabled");
            this.logFilter = config.getBoolean("logFilter");
            this.messageReceive = config.getBoolean("messageReceive");
            this.messageSend = config.getBoolean("messageSend");
            this.customPath = config.getString("path");
        }
    }
}
